<!DOCTYPE html>
<html lang="en">
<head>
  <% if flash[:success] %>
  <div class="flash-success"><%= flash[:success] %></div>
<% end %>

<% if flash[:error] %>
  <div class="flash-error"><%= flash[:error] %></div>
<% end %>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product List</title>
  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="font-sans bg-gradient-to-br from-[#a2d2ff] via-[#bde0fe] to-[#cdb4db] flex flex-col items-center min-h-screen p-6 text-gray-900">

  <!-- Product Table -->
  <div class="glass-container w-4/5 max-w-3xl mb-8 bg-white/25 backdrop-blur-xl rounded-2xl p-6 shadow-xl">
    <h1 class="text-2xl font-semibold text-center text-sky-700 mb-4">Product List</h1>
    <table class="w-full border-collapse rounded-xl overflow-hidden">
      <thead>
        <tr class="bg-sky-500/60 text-white">
          <th class="px-4 py-3">ID</th>
          <th class="px-4 py-3">NAME</th>
          <th class="px-4 py-3">QUANTITY</th>
          <th class="px-4 py-3">PRICE</th>
          <th class="px-4 py-3">ACTIONS</th>
        </tr>
      </thead>
      <tbody>
        <% @products.each do |row| %>
          <tr class="text-center bg-white/30 hover:bg-white/60 transition">
            <td class="px-4 py-3"><%= row["id"] %></td>
            <td class="px-4 py-3"><%= row["name"] %></td>
            <td class="px-4 py-3"><%= row["quantity"] %></td>
            <td class="px-4 py-3">$<%= row["price"] %></td>
            <td class="px-4 py-3 space-x-2">
              <!-- Edit -->
              <form action="/products/<%= row["id"] %>/edit" method="get" class="inline">
                <button type="submit" 
                        class="bg-gradient-to-r from-cyan-400 to-indigo-500 text-white px-4 py-2 rounded-lg text-sm font-medium shadow hover:scale-105 hover:from-indigo-500 hover:to-cyan-400 transition">
                  Edit
                </button>
              </form>
              <!-- Delete -->
              <form action="/products/<%= row["id"] %>/delete" method="post" class="inline">
                <button type="submit" 
                        class="bg-gradient-to-r from-rose-400 to-pink-500 text-white px-4 py-2 rounded-lg text-sm font-medium shadow hover:scale-105 hover:from-pink-500 hover:to-rose-400 transition">
                  Delete
                </button>
              </form>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <!-- Add New Product Form -->
  <div class="w-4/5 max-w-md bg-white/25 backdrop-blur-xl rounded-2xl p-6 shadow-xl">
    <h2 class="text-xl font-semibold text-center text-sky-700 mb-4">Add a New Product</h2>
    <form action="/products" method="post" class="flex flex-col space-y-3">
      <label class="font-medium">Name:</label>
      <input type="text" name="name" 
             class="p-3 rounded-lg bg-white/50 backdrop-blur-md focus:ring-2 focus:ring-sky-400 outline-none">

      <label class="font-medium">Quantity:</label>
      <input type="number" name="quantity" 
             class="p-3 rounded-lg bg-white/50 backdrop-blur-md focus:ring-2 focus:ring-sky-400 outline-none">

      <label class="font-medium">Price:</label>
      <input type="number" step="0.01" name="price" 
             class="p-3 rounded-lg bg-white/50 backdrop-blur-md focus:ring-2 focus:ring-sky-400 outline-none">

      <button type="submit" 
              class="mt-4 bg-gradient-to-r from-cyan-400 to-indigo-500 text-white px-5 py-3 rounded-lg text-sm font-semibold shadow hover:scale-105 hover:from-indigo-500 hover:to-cyan-400 transition">
        Add Product
      </button>
    </form>
  </div>

</body>
</html>